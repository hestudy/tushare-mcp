# Requirements Traceability Matrix

## Story: 1.1 - 项目骨架与持续集成

### Coverage Summary
- Total Requirements: 4
- Fully Covered: 1 (25%)
- Partially Covered: 0 (0%)
- Not Covered: 3 (75%)

### Requirement Mappings

#### AC1: 配置 Monorepo 结构，包含 `metadata/`、`mcp_commands/`、`service/`、`docs/` 等目录。
**Coverage: NONE**

- 未发现覆盖该结构完整性的自动化测试。

#### AC2: 引入 FastAPI/uvicorn 并提供基础健康检查路由。
**Coverage: FULL**

- **Unit Test**: `service/tests/unit/test_health.py::test_health_endpoint_returns_standard_payload`
  - Given: FastAPI 应用以默认配置启动，依赖版本在配置中声明。
  - When: 客户端对 `GET /health` 发起请求。
  - Then: 响应返回 200，包含标准化 `status`、`service`、`request_id`、`timestamp` 以及依赖版本信息。

#### AC3: 建立 CI（Lint + Unit Test）流程，PR 合并需自动执行。
**Coverage: NONE**

- 未找到验证 CI 工作流的自动化测试或校验脚本。

#### AC4: 编写 README 说明启动方式与目录结构。
**Coverage: NONE**

- 文档校验缺乏自动化检查，建议添加文档一致性或链接校验。

### Critical Gaps
- **AC1**: 缺少针对目录结构与核心文件占位的自动化校验。建议添加脚本或测试验证关键目录与配置存在。
- **AC3**: CI 工作流未被测试覆盖，需通过管道自测或 meta 测试确保关键任务（ruff、black、pytest）执行成功。
- **AC4**: README 内容无自动验证，可加入链接检查或文档 linter 以避免信息漂移。

### Test Design Recommendations
1. 为 AC1 实现轻量级目录结构验证（如 pytest + pathlib 断言关键目录/文件存在）。
2. 针对 AC3 编写 GitHub Actions 自身体检或使用 `act`/自定义脚本在 CI 中验证必要任务配置。
3. 对 AC4 引入文档质量校验（如 Markdown lint、dead link 检查），将其纳入 CI。

### Risk Assessment
- **High Risk**: AC3（CI 失效会直接影响质量门禁）。
- **Medium Risk**: AC1（结构缺失会阻碍后续故事）、AC4（文档偏差影响团队协作）。
- **Low Risk**: AC2（已有单元测试覆盖健康检查）。
